[multiplayer]
id=Z_Conquest_AI_Europe_by_enclave
name=_"for testing AI (not intended for playing) C*"
description=_ "Conquest* Europe by enclave.
For 2-6 players"
 	map_data="{~add-ons/Conquest_Asterisk/maps/europe.map}"
	###{INTRO_STORY}
{DEFAULT_SCHEDULE}
{DEFAULT_MUSIC_PLAYLIST}
###### these need to be in each map of C Asterisk
{CE_PRESTART_OPTIONS}
{CE_PRELOAD_HELPER}
{CE_LUA_THEME_ITEMS}
{CE_PRESTART_EVENT}
{CE_BONUS_EVENTS}


experience_modifier=100
turns=-1

[side]
side=1
controller=human
team_name="Team 1"
canrecruit=yes
gold=25
income=0
fog=yes
shroud=no
village_gold=1
type=Master at Arms
scroll_to_leader=no 
faction=Loyalists
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[/side]

[side]
side=2
controller=ai
team_name="Team 2"
canrecruit=yes
gold=25
income=0
fog=yes
shroud=no
village_gold=1
type=Master at Arms
scroll_to_leader=no 
faction=Loyalists
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[/side]

[side]
side=3
controller=null
team_name="Team 3"
canrecruit=yes
gold=25
income=0
fog=yes
shroud=no
village_gold=1
type=Master at Arms
scroll_to_leader=no 
faction=Loyalists
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[/side]

[side]
side=4
controller=null
team_name="Team 4"
canrecruit=yes
gold=25
income=0
fog=yes
shroud=no
village_gold=1
type=Master at Arms
scroll_to_leader=no 
faction=Loyalists
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[/side]

[side]
side=5
controller=null
team_name="Team 5"
canrecruit=yes
gold=25
income=0
fog=yes
shroud=no
village_gold=1
type=Master at Arms
scroll_to_leader=no 
faction=Loyalists
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[/side]

[side]
side=6
controller=null
team_name="Team 6"
canrecruit=yes
gold=25
income=0
fog=yes
shroud=no
village_gold=1
type=Master at Arms
scroll_to_leader=no 
faction=Loyalists
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[/side]

[side]
side=7
color=white
controller=null
controller_lock=true
no_leader=yes 
team_name=neutral
user_team_name= _ "neutral"
canrecruit=no
allow_player=false      
fog=no
team_lock=true 
color_lock=true 
gold_lock=true
income_lock=true
faction_lock=true
leader_lock=true
[ai]
aggression=0.0
caution=1.0
ai_algorithm=default
village_value=10.0
[/ai]
[/side]


[event]
name=side turn
first_time_only=no
[if]
[not]

[have_unit]
canrecruit=no
side=$side_number
[/have_unit]
[/not]

[variable]
name=turn_number
greater_than=1
[/variable]
[then]
[kill]
side=$side_number
[/kill]
[/then]
[/if]
[/event]

##{CONQUEST_BASE} ## set 6 sides .. kill king if no units left.. calculate scores.. game over conditions and list scores..  
{WORK}
###{SELECT_LENGTH}
##
{CE_DROID_MENU}
{BOAT_MENU}
{CONQUEST_BOATS *^V*}
##
{CE_AI_PLACEMENT}
{CE_EVENTS_AND_NEUTRAL_SPAWNS}
{CE_NEUTRALS_GROW}
	{OBJECTIVES_NOTE_MAP_BY (Blueblaze, slightly modified by Mabuse, modified by Gwledig - modified by enclave)}
	##
	{RECRUIT_MENU_HUMANS *^V*}
	##
###################### capitol only
[event]
first_time_only=yes
name="turn refresh"
[lua]
code = <<
local lua_total_villages = #wesnoth.get_villages()
wesnoth.set_variable("CE_SYSTEM.total_villages_on_map",tostring(lua_total_villages))
>>
[/lua]

#count players
{VARIABLE playersingame 0}

[if]
[have_unit]
side=1
[/have_unit]
[then]
{VARIABLE_OP playersingame add 1}
[/then]
[/if]

[if]
[have_unit]
side=2
[/have_unit]
[then]
{VARIABLE_OP playersingame add 1}
[/then]
[/if]

[if]
[have_unit]
side=3
[/have_unit]
[then]
{VARIABLE_OP playersingame add 1}
[/then]
[/if]

[if]
[have_unit]
side=4
[/have_unit]
[then]
{VARIABLE_OP playersingame add 1}
[/then]
[/if]

[if]
[have_unit]
side=5
[/have_unit]
[then]
{VARIABLE_OP playersingame add 1}
[/then]
[/if]

[if]
[have_unit]
side=6
[/have_unit]
[then]
{VARIABLE_OP playersingame add 1}
[/then]
[/if]
#/end of count players

[set_variable]
name="capitol_mode"
value=1
[/set_variable]
{STARTING_GOLD}
{CE_LUA_CAPITOL_SPAWNS}
{CAPITOL_AI_ANNOUNCEMENT}
[/event]
######################## / end of capitol
	{CE_AI_EVENT} ## experimental AI to control AI side properly (maybe not working at all)
[event]
name=turn 1
first_time_only=yes
		{CE_SET_REGION_BONUS Spain Spain 7}
		{CE_SET_REGION_BONUS France France 7}
		{CE_SET_REGION_BONUS Italy Italy 3}
		{CE_SET_REGION_BONUS UnitedKingdom (United Kingdom) 8}
		{CE_SET_REGION_BONUS Benelux Benelux 2}
		{CE_SET_REGION_BONUS Germany Germany 7}
		{CE_SET_REGION_BONUS Poland Poland 3}
		{CE_SET_REGION_BONUS Ukraine Ukraine 5}
		{CE_SET_REGION_BONUS Scandinavia Scandinavia 4}
		{CE_SET_REGION_BONUS Switzerland Switzerland 2}
		{CE_SET_REGION_BONUS Macedonia Macedonia 7}
		{CE_SET_REGION_BONUS Russia Russia 10}

		#Spain
		{CE_SET_LABEL 4 27 Porto (Spain)}
		{CE_SET_LABEL 3 30 Lisbon (Spain)}
		{CE_SET_LABEL 8 27 Madrid (Spain)}
		{CE_SET_LABEL 7 31 Seville (Spain)}
		{CE_SET_LABEL 13 29 Valencia (Spain)}
		{CE_SET_LABEL 14 26 Barcelona (Spain)}
		#France
		{CE_SET_LABEL 18 25 Marseille (France)}
		{CE_SET_LABEL 12 22 Bordeaux (France)}
		{CE_SET_LABEL 16 19 Paris (France)}
		{CE_SET_LABEL 11 20 Nantes (France)}
		{CE_SET_LABEL 18 22 Lyons (France)}
		{CE_SET_LABEL 21 25 Monaco (France)}
		#Italy
		{CE_SET_LABEL 25 32 Palermo (Italy)}
		{CE_SET_LABEL 24 23 Milan (Italy)}
		{CE_SET_LABEL 30 28 Bari (Italy)}
		{CE_SET_LABEL 26 27 Rome (Italy)}
		#United Kingdom
		{CE_SET_LABEL 14 14 London (UnitedKingdom)}
		{CE_SET_LABEL 11 13 Birmingham (UnitedKingdom)}
		{CE_SET_LABEL 10 6 Glasgow (UnitedKingdom)}
		{CE_SET_LABEL 10 10 Manchester (UnitedKingdom)}
		{CE_SET_LABEL 7 8 Belfast (UnitedKingdom)}
		{CE_SET_LABEL 7 11 Dublin (UnitedKingdom)}
		{CE_SET_LABEL 4 11 Cork (UnitedKingdom)}
		#Benelux
		{CE_SET_LABEL 20 13 Amsterdam (Benelux)}
		{CE_SET_LABEL 19 17 Brussels (Benelux)}
		#Germany
		{CE_SET_LABEL 22 18 (Frankfurt am Main) (Germany)}
		{CE_SET_LABEL 27 20 Munich (Germany)}
		{CE_SET_LABEL 27 16 Berlin (Germany)}
		{CE_SET_LABEL 24 12 Hamburg (Germany)}
		{CE_SET_LABEL 26 9 Arhus (Germany)}
		{CE_SET_LABEL 29 11 Copenhagen (Germany)}
		#Poland
		{CE_SET_LABEL 34 16 Warsaw (Poland)}
		{CE_SET_LABEL 34 19 Krakow (Poland)}
		{CE_SET_LABEL 35 22 Budapest (Poland)}
		{CE_SET_LABEL 31 19 Prague (Poland)}
		#Ukraine
		{CE_SET_LABEL 40 24 Bucharest (Ukraine)}
		{CE_SET_LABEL 43 25 Constanta (Ukraine)}
		{CE_SET_LABEL 44 18 Kiev (Ukraine)}
		{CE_SET_LABEL 48 19 Kharkiv (Ukraine)}
		{CE_SET_LABEL 46 22 Odessa (Ukraine)}
		#Scandinavia
		{CE_SET_LABEL 27 3 Oslo (Scandinavia)}
		{CE_SET_LABEL 19 2 Bergen (Scandinavia)}
		{CE_SET_LABEL 29 7 Gothenburg (Scandinavia)}
		{CE_SET_LABEL 35 5 Stockholm (Scandinavia)}
		#Switzerland
		{CE_SET_LABEL 24 21 Zurich (Switzerland)}
		{CE_SET_LABEL 21 22 Geneva (Switzerland)}
		#Macedonia
		{CE_SET_LABEL 37 31 Athens (Macedonia)}
		{CE_SET_LABEL 38 28 Thessaloniki (Macedonia)}
		{CE_SET_LABEL 43 28 Istanbul (Macedonia)}
		{CE_SET_LABEL 48 29 Ankara (Macedonia)}
		{CE_SET_LABEL 44 30 Izmir (Macedonia)}
		{CE_SET_LABEL 36 26 Sophia (Macedonia)}
		#Russia
		{CE_SET_LABEL 42 3 Helsinki (Russia)}
		{CE_SET_LABEL 42 6 Tallinn (Russia)}
		{CE_SET_LABEL 41 9 Riga (Russia)}
		{CE_SET_LABEL 39 13 Vilnius (Russia)}
		{CE_SET_LABEL 42 14 Minsk (Russia)}
		{CE_SET_LABEL 46 5 (Saint Petersburg) (Russia)}
		{CE_SET_LABEL 48 11 Moscow (Russia)}
		{CE_SET_LABEL 46 14 Bryansk (Russia)}
[/event]

[/multiplayer]
